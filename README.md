# Raid ‑ Retroactive Attestation of Inbox Data

> This is a set of **L1 Inbox** contracts that allows any Rollup based on *based sequencing*
> to securely publish L2 Blobs through Pre-Confirmation mode before **EIP‑4788** goes live,
> with dual-layer protection using "unsafeHead / safeHead".

## Process Overview
1. `unsafeHead`: Candidate block, generated by the latest Pre-Confer's `publish()`.
2. `safeHead`: Safe block promoted after the next Pre-Confer's Merkle proof verification.
3. L2 Nodes only Derive/Execute the corresponding Blob after the `NewSafeHead` event occurs.

> For detailed timeline, refer to `docs/flow.md` and the provided diagram.

## Development Guide
```bash
pnpm i    # or npm i / yarn
npx hardhat test
npx hardhat node &
ts-node scripts/deploy.ts --network localhost
```

## TODO
- ☐ Implement complete SSZ Merkle Proof verification (can reference Lighthouse `ssz` lib)
- ☐ Implement penalty mechanism: automatically `slash()` defaulting Pre-Confer to Treasury
- ☐ RPC Indexer: Connect `PublicationFeed` with L2 Engine `Safe Attributes`

---

### License
MIT
